CREATE DATABASE MIMIMISA;

CREATE TABLE PESSOA (
	ID_PESSOA INT,
	NOME VARCHAR(100),
	LOGIN VARCHAR(100),
	SENHA VARCHAR(32),
	CONSTRAINT PKY_PESSOA PRIMARY KEY(ID_PESSOA)
);

INSERT INTO PESSOA VALUES (1, 'EMERSON', 'ESCANTALICE', '123'),
			  (2, 'ADRIANO', 'ASANTOS', '123'),
			  (3, 'JOSE', 'JALBETO', '123'),
			  (4, 'ALBERTO', 'ALBERTOJ', '123'),
			  (5, 'JUNIOR', 'JJOSE', '123'),
			  (6, 'DOGLAS', 'DLIMA', '123'),
			  (7, 'SANTOS', 'SEMERSON', '123'),
			  (8, 'LUIZ', 'LSATOS', '123'),
			  (9, 'THAYLE', 'TDUARTE', '123'),
			  (10, 'CARLOS', 'CSILVA', '123');

CREATE TABLE CLIENTE (
	ID_CLIENTE INT,
	ID_PESSOA INT,
	CONSTRAINT PK_CLIENTE PRIMARY KEY(ID_CLIENTE),
	CONSTRAINT FK_CLIETE_PESSOA FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA)
);

INSERT INTO CLIENTE VALUES (1, 1),
			   (2, 2),
			   (3, 3),
			   (4, 4),
			   (5, 5),
			   (6, 6),
			   (7, 7),
			   (8, 8),
			   (9, 9),
			   (10, 10);

CREATE TABLE CLIENTE_PESSOA (
	ID_CLIENTE_PESSOA INT,
	ID_CLIENTE INT,
	CPF VARCHAR(100),
	SEXO CHAR(1),
	CONSTRAINT PK_CLIENTE_PESSOA PRIMARY KEY(CPF),
	CONSTRAINT FK_CLIETE_PESSOA_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE)
);

INSERT INTO CLIENTE_PESSOA VALUES (1, 1, '123456789', 'M'),
			   (2, 2, '321654897', 'M'),
			   (3, 3, '456789123', 'M'),
			   (4, 4, '321654987', 'M'),
			   (5, 5, '124578926', 'M');


CREATE TABLE CLIENTE_EMPRESA (
	ID_CLIENTE_EMPRESA INT,
	ID_CLIENTE INT,
 	CNPJ VARCHAR(12),
	CONSTRAINT PK_CLIENTE_EMPRESA PRIMARY KEY(ID_CLIENTE_EMPRESA),
	CONSTRAINT FK_CLIETE_EMPRESA_PESSOA FOREIGN KEY (ID_CLIENTE_EMPRESA) REFERENCES CLIENTE(ID_CLIENTE)
);

INSERT INTO CLIENTE_EMPRESA VALUES (6, 6, '123456759'),
			   (7, 7, '321655897'),
			   (8, 8, '456744123'),
			   (9, 9, '321564987'),
			   (10, 10, '127578926');

CREATE TABLE FUNCIONARIO (
	ID_FUNCIONARIO INT,
	ID_PESSOA INT,
	CPF VARCHAR(32),
	SEXO CHAR(1),
	CONSTRAINT PK_FUNCIONARIO PRIMARY KEY(ID_FUNCIONARIO),
	CONSTRAINT FK_FUNCIONARIO_PESSOA FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA)
);

INSERT INTO FUNCIONARIO VALUES (1, 1, '123456789', 'M'),
			   (2, 2, '321654897', 'M'),
			   (3, 3, '456789123', 'M'),
			   (4, 4, '321654987', 'M'),
			   (5, 5, '124578926', 'M');

CREATE TABLE EVENTO (
	ID_EVENTO INT,
	ID_CLIENTE INT,
	ID_FUNCIONARIO INT,
	DATA_EVENTO DATE,
	CATEGORIA VARCHAR(100),
	LOCALIDADE VARCHAR(100),
	TIPO VARCHAR(32),
	CONSTRAINT PK_EVENTO PRIMARY KEY(ID_EVENTO),
	CONSTRAINT FK_EVENTO FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE),
	CONSTRAINT FK_FUNCIONARIO FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO(ID_FUNCIONARIO)
);

INSERT INTO EVENTO VALUES (1, 6, 1, '2015-09-12', 'ANIMADA','SANTOS', 'FESTA'),
			   (2, 7, 1, '12-08-2015','ANIMADA', 'CAMPINA GRANDE', 'SHOW'),
			   (3, 8, 2, '12-07-2015','ANIMADA', 'CAMPINA GRANDE', 'FESTA'),
			   (4, 9, 3, '12-05-2015','BONUS', 'SANTOS', 'PROMOÇAO'),
			   (5, 10, 4, '12-06-2015','BONUS', 'CUBATÃO', 'PREMIAÇÃO');

CREATE TABLE MATERIAL (
        ID_MATERIAL INT,
	NOME VARCHAR(100),
	QUANTIDADE INT,
	PESO NUMERIC(5,2),
	CONSTRAINT PK_MATERIAL PRIMARY KEY(ID_MATERIAL)
);

INSERT INTO MATERIAL VALUES (1, 'BALAO', 6, 4.90),
			   (2, 'PAFLETO',8, 0.21),
			   (3, 'CARROS',9, 400.77),
			   (4, 'MICROFONE',3, 6.77),
			   (5, 'TENDAS',8, 10.55);
			   

CREATE TABLE EVENTO_MATERIAL (
	ID_EVENTO INT,
	ID_MATERIAL INT,
	QUANTIDADE INT,
	CONSTRAINT FK_EVENTO FOREIGN KEY (ID_EVENTO) REFERENCES EVENTO(ID_EVENTO),
	CONSTRAINT FK_MATERIAL FOREIGN KEY (ID_MATERIAL) REFERENCES MATERIAL(ID_MATERIAL)
);

INSERT INTO EVENTO_MATERIAL VALUES (1, 1),
			   (2, 2),
			   (3, 3),
			   (4, 4),
			   (5, 5);
